# Autogenerated from KST: please remove this line if doing any edits by hand!

import unittest, os, streams, options, ../testhelpers
import ../../../compiled/nim/nav_parent3

var
  stream = newFileStream("test_out/nim/junitreports/nav_parent3.xml", fmWrite)
  outputFormatter = newJUnitOutputFormatter(stream)
addOutputFormatter(outputFormatter)

suite "Kaitai Struct Compiler Test Suite":
  test "Nim: NavParent3":
    let r = NavParent3.fromFile("src/nav_parent2.bin")

    check(r.ofsTags == 8)
    check(r.numTags == 2)
    check(r.tags[0].name == "RAHC")
    check(r.tags[0].ofs == 32)
    check(r.tags[0].numItems == 3)
    check(r.tags[0].tagContent.content == "foo")
    check(r.tags[1].name == "RAHC")
    check(r.tags[1].ofs == 35)
    check(r.tags[1].numItems == 6)
    check(r.tags[1].tagContent.content == "barbaz")

close(outputFormatter)
