# Autogenerated from KST: please remove this line if doing any edits by hand!

import unittest, os, streams, options, ../testhelpers
import ../../../compiled/nim/expr_array

var
  stream = newFileStream("test_out/nim/junitreports/expr_array.xml", fmWrite)
  outputFormatter = newJUnitOutputFormatter(stream)
addOutputFormatter(outputFormatter)

suite "Kaitai Struct Compiler Test Suite":
  test "Nim: ExprArray":
    let r = ExprArray.fromFile("src/expr_array.bin")

    check(r.aintSize == 4)
    check(r.aintFirst == 7657765)
    check(r.aintLast == 16272640)
    check(r.aintMin == 49185)
    check(r.aintMax == 1123362332)
    check(r.afloatSize == 3)
    check(r.afloatFirst == -2.6839530254859364E-121)
    check(r.afloatLast == -1.1103359815095273E-175)
    check(r.afloatMin == -8.754689149998834E+288)
    check(r.afloatMax == -1.1103359815095273E-175)
    check(r.astrSize == 3)
    check(r.astrFirst == "foo")
    check(r.astrLast == "baz")
    check(r.astrMin == "bar")
    check(r.astrMax == "foo")

close(outputFormatter)
