# Autogenerated from KST: please remove this line if doing any edits by hand!

import unittest, os, streams, options, sequtils, ../testhelpers
import ../../../compiled/nim/expr_str_ops

var
  stream = newFileStream("test_out/nim/junitreports/expr_str_ops.xml", fmWrite)
  outputFormatter = newJUnitOutputFormatter(stream)
addOutputFormatter(outputFormatter)

suite "Kaitai Struct Compiler Test Suite":
  test "Nim: ExprStrOps":
    let r = ExprStrOps.fromFile("src/term_strz.bin")

    check(r.one == string("foo|b"))
    check(r.oneLen == int(5))
    check(r.oneRev == string("b|oof"))
    check(r.oneSubstr0To3 == string("foo"))
    check(r.oneSubstr2To5 == string("o|b"))
    check(r.oneSubstr3To3 == string(""))
    check(r.two == string("0123456789"))
    check(r.twoLen == int(10))
    check(r.twoRev == string("9876543210"))
    check(r.twoSubstr0To7 == string("0123456"))
    check(r.twoSubstr4To10 == string("456789"))
    check(r.twoSubstr0To10 == string("0123456789"))

close(outputFormatter)
